generator client {
  provider = "prisma-client-py"
}

datasource db {
  provider = "sqlite"
  url      = "file:dev.db"
}

model User {
  id            Int       @id @default(autoincrement())
  handle        String    @unique
  bio           String?
  followers     Int
  location      String?
  verified      Boolean   @default(false)
  tweetsSummary String?  // Grok parsed tweet content/activity
  createdAt     DateTime  @default(now())
  rankings      Ranking[]

  @@map("User")
}

model SearchSession {
  id          Int       @id @default(autoincrement())
  roleTitle   String
  jobDesc     String?
  keywords    String  // Comma-separated
  createdAt   DateTime  @default(now())
  rankings    Ranking[]

  @@map("SearchSession")
}

model Ranking {
  id         Int         @id @default(autoincrement())
  matchScore Int
  reasoning  String
  userId     Int
  sessionId  Int
  user       User        @relation(fields: [userId], references: [id])
  session    SearchSession @relation(fields: [sessionId], references: [id])

  @@map("Ranking")
}